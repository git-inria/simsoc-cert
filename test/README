This directory contains tests, which can be used both with simlight (use the
.elf file) and with the Caml simulator extracted from the Coq code (use the .ml
file).

All tests are provided in the form of a C file. The tests whose name starts by
"arm_" contain inlined assembly code. To compile them, an arm-elf-gcc
cross-compiler is necessary.

Each test stores a status in the register r0 and next enters an infinite
loop. This particular infinite loop is recognized by simlight, in order to know
when to stop the simulation. For the Coq simulator, the number of instructions
before this loop (+ 1 iteration of the loop) is reported in the C source file,
so this number can be provided to the simulation function.

In most of the test programs, the status is organized as a bit vector: each
atomic test set one bit. Thus, looking a the binary representation of the result
tell you which atomic test failed.

The shell script "check" executes all the tests with simlight, and compare the
result (last r0 value) with the expected value.

TODO:
 - The code coverage is poor (<50% of cxx/arm_iss.cpp). In particular, there are
   not tests for new ARMv6 instructions.
